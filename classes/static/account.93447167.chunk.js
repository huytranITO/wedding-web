"use strict";(self.webpackChunkwedding=self.webpackChunkwedding||[]).push([[809],{91759:(e,a,t)=>{t.r(a),t.d(a,{default:()=>p});var r=t(67294),s=t(96974),n=t(25041),l=t(50450),i=t(77076),o=t(96042),c=t(90644),m=t(4679),d=t(94889);const u=()=>{const e=(0,c.TL)(),a=(0,c.CG)((e=>e.authentication.account)),t=(0,c.CG)((e=>e.settings.successMessage));(0,r.useEffect)((()=>(e((0,m.Gg)()),()=>{e((0,d.mc)())})),[]),(0,r.useEffect)((()=>{t&&o.Am.success(t)}),[t]);return r.createElement("div",null,r.createElement(l.X2,{className:"justify-content-center"},r.createElement(l.JX,{md:"8"},r.createElement("h2",{id:"settings-title"},"User settings for [",r.createElement("strong",null,a.login),"]"),r.createElement(i.ValidatedForm,{id:"settings-form",onSubmit:t=>{e((0,d.wL)(Object.assign(Object.assign({},a),t)))},defaultValues:a},r.createElement(i.ValidatedField,{name:"firstName",label:"First Name",id:"firstName",placeholder:"Your first name",validate:{required:{value:!0,message:"Your first name is required."},minLength:{value:1,message:"Your first name is required to be at least 1 character"},maxLength:{value:50,message:"Your first name cannot be longer than 50 characters"}},"data-cy":"firstname"}),r.createElement(i.ValidatedField,{name:"lastName",label:"Last Name",id:"lastName",placeholder:"Your last name",validate:{required:{value:!0,message:"Your last name is required."},minLength:{value:1,message:"Your last name is required to be at least 1 character"},maxLength:{value:50,message:"Your last name cannot be longer than 50 characters"}},"data-cy":"lastname"}),r.createElement(i.ValidatedField,{name:"email",label:"Email",placeholder:"Your email",type:"email",validate:{required:{value:!0,message:"Your email is required."},minLength:{value:5,message:"Your email is required to be at least 5 characters."},maxLength:{value:254,message:"Your email cannot be longer than 50 characters."},validate:e=>(0,i.isEmail)(e)||"Your email is invalid."},"data-cy":"email"}),r.createElement(l.zx,{color:"primary",type:"submit","data-cy":"submit"},"Save")))))},g=({password:e})=>{const a=["#F00","#F90","#FF0","#9F0","#0F0"],t=(e=>{const a=[];for(let t=0;t<5;t++)a.push(r.createElement("li",{key:t,className:"point",style:t<e.idx?{backgroundColor:e.col}:{backgroundColor:"#DDD"}}));return a})((e=>{let t=0;return e>10&&(t=e<=20?1:e<=30?2:e<=40?3:4),{idx:t+1,col:a[t]}})((e=>{let a=0;const t={lowerLetters:/[a-z]+/.test(e),upperLetters:/[A-Z]+/.test(e),numbers:/\d+/.test(e),symbols:/[$-/:-?{-~!"^_`[\]]/g.test(e)},r=Object.values(t).filter((e=>!!e)).length;return a+=2*e.length+(e.length>=10?1:0),a+=10*r,a=e.length<=6?Math.min(a,10):a,a=1===r?Math.min(a,10):a,a=2===r?Math.min(a,20):a,a=3===r?Math.min(a,40):a,a})(e)));return r.createElement("div",{id:"strength"},r.createElement("small",null,"Password strength:"),r.createElement("ul",{id:"strengthBar"},t))};var h=t(39344);const w=()=>{const[e,a]=(0,r.useState)(""),t=(0,c.TL)();(0,r.useEffect)((()=>(t((0,h.mc)()),t((0,m.Gg)()),()=>{t((0,h.mc)())})),[]);const s=(0,c.CG)((e=>e.authentication.account)),n=(0,c.CG)((e=>e.password.successMessage)),d=(0,c.CG)((e=>e.password.errorMessage));return(0,r.useEffect)((()=>{n?o.Am.success(n):d&&o.Am.error(d),t((0,h.mc)())}),[n,d]),r.createElement("div",null,r.createElement(l.X2,{className:"justify-content-center"},r.createElement(l.JX,{md:"8"},r.createElement("h2",{id:"password-title"},"Password for [",r.createElement("strong",null,s.login),"]"),r.createElement(i.ValidatedForm,{id:"password-form",onSubmit:({currentPassword:e,newPassword:a})=>{t((0,h.vW)({currentPassword:e,newPassword:a}))}},r.createElement(i.ValidatedField,{name:"currentPassword",label:"Current password",placeholder:"Current password",type:"password",validate:{required:{value:!0,message:"Your password is required."}},"data-cy":"currentPassword"}),r.createElement(i.ValidatedField,{name:"newPassword",label:"New password",placeholder:"New password",type:"password",validate:{required:{value:!0,message:"Your password is required."},minLength:{value:4,message:"Your password is required to be at least 4 characters."},maxLength:{value:50,message:"Your password cannot be longer than 50 characters."}},onChange:e=>a(e.target.value),"data-cy":"newPassword"}),r.createElement(g,{password:e}),r.createElement(i.ValidatedField,{name:"confirmPassword",label:"New password confirmation",placeholder:"Confirm the new password",type:"password",validate:{required:{value:!0,message:"Your confirmation password is required."},minLength:{value:4,message:"Your confirmation password is required to be at least 4 characters."},maxLength:{value:50,message:"Your confirmation password cannot be longer than 50 characters."},validate:a=>a===e||"The password and its confirmation do not match!"},"data-cy":"confirmPassword"}),r.createElement(l.zx,{color:"success",type:"submit","data-cy":"submit"},"Save")))))},p=()=>r.createElement("div",null,r.createElement(n.Z,null,r.createElement(s.AW,{path:"settings",element:r.createElement(u,null)}),r.createElement(s.AW,{path:"password",element:r.createElement(w,null)})))}}]);